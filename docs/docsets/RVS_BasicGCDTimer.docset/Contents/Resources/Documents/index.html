<!DOCTYPE html>
<html lang="en">
  <head>
    <title>RVS_BasicGCDTimer  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="RVS_BasicGCDTimer  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          RVS_BasicGCDTimer Docs
        </a>
         (100% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/RiftValleySoftware/RVS_BasicGCDTimer">
            <img class="header-icon" src="img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">RVS_BasicGCDTimer Reference</a>
      <img class="carat" src="img/carat.png" alt=""/>
      RVS_BasicGCDTimer  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/RVS_BasicGCDTimer.html">RVS_BasicGCDTimer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RVS_BasicGCDTimerDelegate.html">RVS_BasicGCDTimerDelegate</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <p><img src="icon.png" alt="Project Icon"></p>
<h1 id='basic-gcd-timer' class='heading'>Basic GCD Timer</h1>
<h2 id='introduction' class='heading'>Introduction</h2>

<p>This is a fundamental tool: A simple <a href="https://developer.apple.com/documentation/dispatch">Grand Central Dispatch</a> timer that either fires repeatedly, or only once.</p>
<h2 id='what-problem-does-this-solve' class='heading'>What Problem Does This Solve?</h2>

<p>Timers are necessary for many different reasons. They could be the driving engine of a clock app, or a UI tool to refresh a display or close a screen.</p>

<p>This will allow &ldquo;leeway,&rdquo; which Apple suggests as a way to help reduce energy usage.</p>

<p>The timer is thread-independent. You can instantiate it on any queue that you want.</p>

<p>It&rsquo;s incredibly simple. Just a &ldquo;set and forget,&rdquo; if you are firing just once, or a simple repeating callback.</p>
<h2 id='requirements' class='heading'>Requirements</h2>

<p>It should work fine for osx, tvOS and iOS. It only depends on the Swift Foundation library.</p>

<p>This requires Swift Version 4.0 or above (tested with 4.2).</p>
<h2 id='where-to-get' class='heading'>WHERE TO GET</h2>

<p><a href="https://github.com/RiftValleySoftware/RVS_BasicGCDTimer">This is the GitHub repo for the project.</a>.</p>

<p><a href="https://riftvalleysoftware.com/work/open-source-projects/#RVS_BasicGCDTimer">This is the documentation page for it</a></p>
<h2 id='usage' class='heading'>USAGE</h2>
<h2 id='a-href-https-swift-org-package-manager-swift-package-manager-spm-a' class='heading'><a href="https://swift.org/package-manager/">Swift Package Manager (SPM)</a></h2>

<p>You can use SPM to load the project as a dependency, by referencing its <a href="https://github.com/RiftValleySoftware/RVS_BasicGCDTimer/">GitHub Repo</a> URI (SSH: <a href="git@github.com:RiftValleySoftware/RVS_BasicGCDTimer.git">git@github.com:RiftValleySoftware/RVS_BasicGCDTimer.git</a>, or HTTPS: <a href="https://github.com/RiftValleySoftware/RVS_BasicGCDTimer.git">https://github.com/RiftValleySoftware/RVS_BasicGCDTimer.git</a>).</p>

<p>Once you have the dependency attached, you reference it by adding an import to the files that consume the package:</p>
<pre class="highlight plaintext"><code>import RVS_BasicGCDTimer
</code></pre>
<h3 id='include-the-source-in-your-project' class='heading'>Include the Source in Your Project</h3>

<p>You can use it as a simple source file; not a module.</p>

<p>To use this, simply add the <a href="https://github.com/RiftValleySoftware/RVS_BasicGCDTimer/blob/master/RVS_BasicGCDTimer/RVS_BasicGCDTimer.swift">RVS_BasicGCDTimer/RVS_BasicGCDTimer.swift</a> file to your project; copying it wherever you want.</p>

<p>You then instantiate the timer:</p>

<p>Either as a one-shot timer (in this case, 100 milliseconds), or as a repeating timer:</p>

<p><code>timeIntervalInSeconds</code> is a double-precision floating point number, with the timer period, in seconds (not milliseconds). It is required to be a positive value over zero.</p>

<p>The <code>delegate</code> is required (if there is no completion). The timer won&rsquo;t work at all without a valid delegate or completion.</p>

<p><code>leewayInMilliseconds</code> is the recommended &ldquo;leeway&rdquo; that Apple suggests that you give timers. This helps conserve energy in mobile devices.</p>

<p>Set <code>onlyFireOnce</code> to true in order for the timer to be a &ldquo;one-shot&rdquo; timer.</p>

<p><code>someContext</code> is any data that you want returned to the callback in your delegate method. It will be available as the timer&rsquo;s <code>context</code> property.</p>

<p><code>queue</code> is the GCD queue to use. Not specifying means that the default queue is used.</p>

<p><code>isWallTime</code> asks the timer to use the &ldquo;Apple Wall Clock&rdquo; time. That time is absolute, and doesn&rsquo;t care about whether or not the computer sleeps or has performance breaks. It tends to be more consistent.</p>

<p>Note that using Wall Time can lead to unexpected behavior. For example, if the app is suspended for some period of time, and is restarted, instead of continuing where it left off, the completion call may be executed immediately.</p>

<p><code>completion</code> is a completion function. Not specifying it means that a delegate should be provided.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>As of version 1.6.0, there is now an optional completion function. It can be a tail completion, and the delegate is now no longer required.</p>

</div>
<h3 id='examples' class='heading'>EXAMPLES</h3>
<pre class="highlight plaintext"><code>newTimer = RVS_BasicGCDTimer(timeIntervalInSeconds: 0.1, delegate: someDelegate, leewayInMilliseconds: 25.0, onlyFireOnce: true, context: someContext, queue: DispatchQueue.main, isWallTime: true, completion: nil )

newTimer = RVS_BasicGCDTimer(timeIntervalInSeconds: 0.1, delegate: nil, leewayInMilliseconds: 25.0, onlyFireOnce: true, context: someContext, queue: DispatchQueue.main, isWallTime: true ) { inTimer, inIsSuccess in
    print("Timer is \(String(describing: inTimer))")
    print("Timer was".(inIsSuccess ? " " : "not ")."successful.")
}
</code></pre>

<p>}</p>

<p>Here, we specify a repeating timer, with no leeway, and no context data:</p>
<pre class="highlight plaintext"><code>newTimer = RVS_BasicGCDTimer(timeIntervalInSeconds: 0.1, delegate: someDelegate, leewayInMilliseconds: 0, onlyFireOnce: false, context: nil, queue: nil, isWallTime: false)
</code></pre>

<p>However, there&rsquo;s a lot of defaults. You can specify the exact same as such:</p>
<pre class="highlight plaintext"><code>newTimer = RVS_BasicGCDTimer(timeIntervalInSeconds: 0.1, delegate: someDelegate)
</code></pre>

<p>Or:</p>
<pre class="highlight plaintext"><code>newTimer = RVS_BasicGCDTimer(timeIntervalInSeconds: 0.1) { inTimer, inIsSuccess in
    print("Timer is \(String(describing: inTimer))")
    print("Timer was".(inIsSuccess ? " " : "not ")."successful.")
}
</code></pre>

<p>Once the timer is instantiated, you start it by calling <code>resume()</code>:</p>
<pre class="highlight plaintext"><code>newTimer.resume()
</code></pre>

<p>You pause (suspend) a running timer by calling <code>pause()</code>:</p>
<pre class="highlight plaintext"><code>newTimer.pause()
</code></pre>

<p>If the timer is not already running, nothing happens. If it is running, then it suspends.</p>

<p>If repeating, the timer will repeat until it is invalidated or deinitialized:</p>
<pre class="highlight plaintext"><code>newTimer.invalidate()
</code></pre>

<p>If a &ldquo;one-shot,&rdquo; then the timer is invalidated as soon as it completes.</p>
<h3 id='completion' class='heading'>Completion</h3>

<p>As of version 1.6.0, there is now an optional completion function. It can be a tail completion.</p>

<p>The completion function has 2 arguments: The timer instance, and a boolean, which is true, if the timer completed, and false, if not.</p>
<h3 id='delegate' class='heading'>Delegate</h3>

<p>The delegate has one required method, and four optional ones (with default extension handlers). The parameter passed in is the timer object.</p>

<p>You can look at the timer object&rsquo;s <code>context</code> property for any data/functions/whatever that you want the callback to access.</p>

<p>This one is called at the completion of the timer. It is required:</p>
<pre class="highlight plaintext"><code>func basicGCDTimerCallback(_ timer: RVS_BasicGCDTimer)
</code></pre>

<p>This one is an optional method that is called when the timer bcomes valid:</p>
<pre class="highlight plaintext"><code>func basicGCDTimerValid(_ timer: RVS_BasicGCDTimer)
</code></pre>

<p>This one is an optional one that is called JUST PRIOR to a timer bcoming invalid:</p>
<pre class="highlight plaintext"><code>func basicGCDTimerWillBecomeInvalid(_ timer: RVS_BasicGCDTimer)
</code></pre>

<p>This is an optional method that is called as the timer is suspended:</p>
<pre class="highlight plaintext"><code>func basicGCDTimerSuspend(_ timer: RVS_BasicGCDTimer)
</code></pre>

<p>This is an optional method that is called as the timer is resumed (which includes the initial start):</p>
<pre class="highlight plaintext"><code>func basicGCDTimerResume(_ timer: RVS_BasicGCDTimer)
</code></pre>
<h2 id='dependencies' class='heading'>DEPENDENCIES</h2>

<p>There are no dependencies to use RVS_BasicGCDTimer in your project. In order to test it and run it in the module project, you should use <a href="https://cocoapods.org">CocoaPods</a> to install <a href="https://cocoapods.org/pods/SwiftLint">SwiftLint</a>, although that is not required. It&rsquo;s <a href="https://littlegreenviper.com/series/swiftwater/swiftlint/">just good practice</a>.</p>
<h2 id='license' class='heading'>LICENSE</h2>

<p>MIT License</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation
files (the &ldquo;Software&rdquo;), to deal in the Software without restriction, including without limitation the rights to use, copy,
modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED &ldquo;AS IS&rdquo;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF
CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

<p><a href="https://riftvalleysoftware.com">The Great Rift Valley Software Company: https://riftvalleysoftware.com</a></p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p><a class="link" href="https://riftvalleysoftware.com" target="_blank" rel="external noopener">©2019 The Great Rift Valley Software Company</a></p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
